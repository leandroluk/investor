---
title: Send 2FA Code
description: Re-generate and resend the 2FA code (OTP) for the current login attempt
---

import {MermaidZoom} from '#/components/molecules/MermaidZoom'

## Rules

- ðŸŒŽ Public endpoint.
- User provides a valid `email`.
- The system generates a new OTP for the user.
- The new code is sent via email.
- Returns 200 OK.

## Request

- Method: `POST`
- Path: `/auth/2fa`
- Body:
  - `email`: User's email (required, email format)

### Example Body

```json
{
  "email": "john.doe@example.com"
}
```

## Diagram

<MermaidZoom>
```mermaid
flowchart TD
  A["Client"] -- "POST /auth/2fa" --> B["API"]
  B --> C{"User Found?"}
  C -- "No" --> D["Return 404 Not Found"]
  C -- "Yes" --> E["Generate New OTP"]
  E --> F["Send Email with OTP"]
  F --> G["Return 200 OK"]
```
</MermaidZoom>

## Response

### Success

`200 OK`

### Error Cases

#### User Not Found
`404 Not Found`
